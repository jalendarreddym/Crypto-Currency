<!DOCTYPE html>
<html>
<head>
    <title>All ML Models</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.css">
    <!-- Your custom styles -->
    <style>
        body {
            padding: 20px;
        }
        table {
            width: 100%;
        }
    </style>
</head>
<body>

<h2 class="mb-4">All ML Models</h2>

<table id="models-table" class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Cryptocurrency</th>
            <th>Model</th>
            <th>R2 Score</th>
            <th>Accuracy %</th>
            <th>RMSE</th>
            <th>View Image</th>
        </tr>
    </thead>
    <tbody>
        {% for record in models_and_results %}
        <!-- LSTM Model Row -->
        <tr>
            <td>{{ record['Cryptocurrency'] }}</td>
            <td>LSTM</td>
            <td>{{ record['LSTM R2 Score'] }}</td>
            <td>{{ (record['LSTM R2 Score'] * 100)|round(3) }}</td>
            <td>{{ record['LSTM RMSE'] }}</td>
            <td><a href="/get_image/{{ record['Cryptocurrency'] }}_LSTM_Model_Predictions.png" target="_blank">View Image</a></td>
        </tr>
        <!-- Random Forest Model Row -->
        <tr>
            <td>{{ record['Cryptocurrency'] }}</td>
            <td>Random Forest</td>
            <td>{{ record['Random Forest R2 Score'] }}</td>
            <td>{{ (record['Random Forest R2 Score'] * 100)|round(3) }}</td>
            <td>{{ record['Random Forest RMSE'] }}</td>
            <td><a href="/get_image/{{ record['Cryptocurrency'] }}_Random Forest_Model_Predictions.png" target="_blank">View Image</a></td>
        </tr>
        <!-- XGBoost Model Row -->
        <tr>
            <td>{{ record['Cryptocurrency'] }}</td>
            <td>XGBoost</td>
            <td>{{ record['XGBoost R2 Score'] }}</td>
            <td>{{ (record['XGBoost R2 Score'] * 100)|round(3) }}</td>
            <td>{{ record['XGBoost RMSE'] }}</td>
            <td><a href="/get_image/{{ record['Cryptocurrency'] }}_XGBoost_Model_Predictions.png" target="_blank">View Image</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- jQuery, Bootstrap and DataTables scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<script>
$(document).ready(function() {
    $('#models-table').DataTable({
        "paging": true,
        "lengthChange": false,
        "searching": true,
        "ordering": true,
        "info": true,
        "autoWidth": false,
        "responsive": true
    });
});
</script>

</body>
</html>
